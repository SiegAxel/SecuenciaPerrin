"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9573],{9573:(b,h,i)=>{i.r(h),i.d(h,{AlumnoPageModule:()=>O});var m=i(6814),s=i(95),o=i(7027),u=i(2946),d=i(5861),t=i(5879),p=i(9045),f=i(2115),P=i(3309);function M(e,c){if(1&e&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA()()()),2&e){const l=c.$implicit;t.xp6(3),t.Oqu(l.asignatura),t.xp6(2),t.Oqu(l.hora),t.xp6(2),t.Oqu(t.lcZ(8,3,l.profesor))}}const A=[{path:"",component:(()=>{var e;class c{constructor(n,a,r,g,C,Z){this.apiService=n,this.cService=a,this.uService=r,this.toastController=g,this.aRoute=C,this.router=Z,this.nombre_alumno="",this.rut_alumno="",this.ClassCode="",this.KEYC="clases",this.codigo="",this.clases=[],this.clasesFiltradas=[],this.url="",this.registroClase=new s.cw({id:new s.NI("",s.kI.required),asignatura:new s.NI(""),profesor:new s.NI(""),hora:new s.NI(""),asistencia:new s.NI([])})}mostrarDatos({url:n}){this.url=n}obtenerDatos(){fetch("https://api.nasa.gov/planetary/apod?api_key=j3raHVSoIBMudrsGNVle6PJXXf0WrJqyVOzw5g7a").then(r=>r.json()).then(r=>this.mostrarDatos(r))}ngOnInit(){var n=this;return(0,d.Z)(function*(){n.nombre_alumno=n.aRoute.snapshot.paramMap.get("nombre")||"",yield n.filtrarClases(),n.obtenerDatos(),console.log(n.obtenerDatos()),console.log(n.clasesFiltradas)})()}filtrarClases(){var n=this;return(0,d.Z)(function*(){yield n.listarClase(),n.clasesFiltradas=n.clases.filter(a=>Array.isArray(a.asistencia)&&a.asistencia.includes(n.nombre_alumno.charAt(0).toUpperCase()+n.nombre_alumno.slice(1)+" - "+n.uService.getRut()))})()}listarClase(){var n=this;return(0,d.Z)(function*(){n.clases=yield n.cService.listar(n.KEYC)})()}marcarAsistencia(){var n=this;return(0,d.Z)(function*(){if(n.codigo=yield n.cService.buscarClase(n.ClassCode,n.KEYC),void 0===n.codigo)n.mostrarToast("top","C\xf3digo no encontrado.",3e3);else{const r=n.codigo;r.asistencia.includes(n.nombre_alumno.charAt(0).toUpperCase()+n.nombre_alumno.slice(1)+" - "+n.uService.getRut())?n.mostrarToast("middle","Ya se ha registrado la asistencia.",2500):(r.asistencia.push(n.nombre_alumno.charAt(0).toUpperCase()+n.nombre_alumno.slice(1)+" - "+n.uService.getRut()),yield n.cService.actualizarClase(r,n.KEYC),n.mostrarToast("top","Asistencia marcada.",3e3),console.log(n.cService.listar(n.KEYC)),n.filtrarClases())}})()}mostrarToast(n,a,r){var g=this;return(0,d.Z)(function*(){yield(yield g.toastController.create({message:a,duration:r,position:n})).present()})()}back(){this.router.navigate(["/login"])}}return(e=c).\u0275fac=function(n){return new(n||e)(t.Y36(p.s),t.Y36(f.A),t.Y36(P.r),t.Y36(o.yF),t.Y36(u.gz),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-alumno"]],decls:47,vars:3,consts:[[1,"card1"],["type","text","placeholder","CODIGO QR",3,"ngModel","ngModelChange"],[3,"click"],[1,"card3"],[4,"ngFor","ngForOf"],["id","foto"],["alt","Imagen de la NASA",3,"src"],[1,"card2"],["src","assets/images/cbimage.png"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-card",0)(5,"ion-card-header")(6,"ion-title"),t._uU(7," Escanea tu QR de clases! "),t.qZA()(),t.TgZ(8,"ion-card-content")(9,"h3"),t._uU(10,"Ingrese su codigo de clase:"),t.qZA(),t.TgZ(11,"ion-input",1),t.NdJ("ngModelChange",function(g){return a.ClassCode=g}),t.qZA(),t.TgZ(12,"ion-button",2),t.NdJ("click",function(){return a.marcarAsistencia()}),t._uU(13,"Marcar Asistencia"),t.qZA()()(),t.TgZ(14,"ion-card",3)(15,"ion-card-header")(16,"ion-title"),t._uU(17," Lista de Clases Asistidas "),t.qZA()(),t.TgZ(18,"ion-card-content")(19,"table")(20,"thead")(21,"tr")(22,"td"),t._uU(23,"Asignatura"),t.qZA(),t.TgZ(24,"td"),t._uU(25,"Horario"),t.qZA(),t.TgZ(26,"td"),t._uU(27,"Profesor"),t.qZA()()(),t.YNc(28,M,9,5,"tbody",4),t.qZA()()(),t.TgZ(29,"ion-card",3)(30,"ion-list")(31,"ion-item")(32,"ion-thumbnail",5),t._UZ(33,"img",6),t.qZA()()()()(),t.TgZ(34,"ion-col")(35,"ion-card",7)(36,"ion-card-header")(37,"p")(38,"b")(39,"strong"),t._uU(40,"\xbfQu\xe9 es VerifyU?"),t.qZA()()()(),t.TgZ(41,"ion-card-content"),t._UZ(42,"br")(43,"ion-img",8),t.TgZ(44,"p"),t._uU(45,"Es una aplicaci\xf3n que permite a los estudiantes y profesores verificar la asistencia en las clases."),t.qZA(),t._UZ(46,"br"),t.qZA()()()()()()),2&n&&(t.xp6(11),t.Q6J("ngModel",a.ClassCode),t.xp6(17),t.Q6J("ngForOf",a.clasesFiltradas),t.xp6(5),t.Q6J("src",a.url,t.LSH))},dependencies:[m.sg,s.JJ,s.On,o.YG,o.PM,o.FN,o.Zi,o.wI,o.W2,o.jY,o.Xz,o.pK,o.Ie,o.q_,o.Nd,o.Bs,o.wd,o.j9,m.rS],styles:["ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}ion-row[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: white;border-bottom:1px solid red}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:red;font-weight:700}ion-content[_ngcontent-%COMP%]{top:76px;--background: rgb(224, 224, 224)}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{overflow:scroll;margin-bottom:60px}.user-wrapper[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;margin:auto}.fade-in-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn ease-in 1.5s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.card1[_ngcontent-%COMP%], .card2[_ngcontent-%COMP%], .card3[_ngcontent-%COMP%]{text-align:center;background:white;border:1px red solid}.card1[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;color:#000}.card2[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#000}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000;font-weight:700;width:33.33%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:tomato}.card3[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.card3[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#000}.card3[_ngcontent-%COMP%]   #foto[_ngcontent-%COMP%]{width:300px;height:300px}"]}),c})()}];let _=(()=>{var e;class c{}return(e=c).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(A),u.Bz]}),c})(),O=(()=>{var e;class c{}return(e=c).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,s.u5,o.Pc,_,s.UX]}),c})()}}]);