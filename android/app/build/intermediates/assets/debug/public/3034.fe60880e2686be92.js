"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3034],{3034:(y,m,u)=>{u.r(m),u.d(m,{RegistroPageModule:()=>_});var p=u(6814),n=u(95),i=u(7027),d=u(2946),l=u(5861),e=u(5879),f=u(3309);function v(o){return o.value?function Z(o){const a=(o=o.replace(/\./g,"").replace(/-/g,"").trim()).slice(-1).toUpperCase();let s=parseInt(o.slice(0,-1),10),t=0,r=2;for(;s>0;)t+=s%10*r,s=Math.floor(s/10),r=7===r?2:r+1;const c=11-t%11;return a===(11===c?"0":10===c?"K":c.toString())}(o.value)?null:{rutInvalido:!0}:null}const C=[{path:"",component:(()=>{var o;class a{constructor(t,r,c){this.toastController=t,this.router=r,this.uService=c,this.usuario=new n.cw({rut:new n.NI("",[n.kI.required,n.kI.pattern("[0-9]{1,2}\\.[0-9]{3}\\.[0-9]{3}-[0-9kK]{1}"),v]),nombre:new n.NI("",[n.kI.required,n.kI.minLength(3)]),email:new n.NI("",[n.kI.email,n.kI.required,n.kI.pattern("^(.+)@(duocuc\\.cl)$")]),fechanac:new n.NI("",n.kI.required),perfil:new n.NI("alumno",n.kI.required),pass1:new n.NI("",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(20),n.kI.pattern("(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{8,}")]),pass2:new n.NI("",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(20),n.kI.pattern("(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{8,}")])}),this.usuarios=[],this.KEY="usuarios"}ngOnInit(){var t=this;return(0,l.Z)(function*(){t.usuarios=yield t.listar_usuarios()})()}redireccionar(){var t=this;return(0,l.Z)(function*(){yield new Promise(r=>setTimeout(r,1e3)),t.router.navigate(["/login"])})()}registrar(){var t=this;return(0,l.Z)(function*(){const r=t.usuario.controls.fechanac.value||"",c=new Date,g=new Date(r);c.getFullYear()-g.getFullYear()<17?t.mostrarToast("middle","Debe ser igual a o mayor de 17 a\xf1os para registrarse.",3e3):(yield t.uService.agregar(t.usuario.value,t.KEY))?(t.mostrarToast("top","Usuario Registrado!",1e3),t.usuario.reset(),t.listar_usuarios(),t.redireccionar()):t.mostrarToast("top","Error al registrar.",3e3)})()}listar_usuarios(){var t=this;return(0,l.Z)(function*(){return t.uService.listar(t.KEY)})()}mostrarToast(t,r,c){var g=this;return(0,l.Z)(function*(){yield(yield g.toastController.create({message:r,duration:c,position:t})).present()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.Y36(i.yF),e.Y36(d.F0),e.Y36(f.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro"]],decls:61,vars:3,consts:[["slot","start","text","",1,"fade-in-animation"],[1,"user-wrapper"],["src","assets/images/favicon.png","width","40px","height","40px","alt","",1,"fade-in-animation"],[1,"fade-in-animation",2,"margin-top","15%"],[3,"fullscreen"],["alt","-","src","assets/images/fondo-cifras.jpg"],[1,"icon-container"],["src","assets/images/favicon-16x16.png",1,"icon-class"],["color","gray"],[3,"formGroup","ngSubmit"],["color","#F3E3E2",1,"inputReg"],["position","stacked"],["type","text","placeholder","Ingrese su RUT","formControlName","rut",1,"rut"],["type","text","placeholder","Ingrese su nombre","formControlName","nombre",1,"nombre"],["type","email","placeholder","Ingrese su correo","formControlName","email",1,"correo"],["type","date","formControlName","fechanac",1,"fecha"],["type","password","placeholder","Ingrese su contrase\xf1a","shape","round","formControlName","pass1",1,"contrase\xf1a"],["type","password","placeholder","Reingrese su contrase\xf1a","shape","round","formControlName","pass2",1,"contrase\xf1a"],["fill","solid","size","default","type","submit",1,"entrar",3,"disabled","click"],[1,"circulo1"],[1,"circulo2"],[1,"circulo3"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e._UZ(2,"ion-back-button",0),e.TgZ(3,"div",1),e._UZ(4,"img",2),e.TgZ(5,"div")(6,"h4",3)(7,"strong"),e._uU(8,"erifyU"),e.qZA()()()()()(),e.TgZ(9,"ion-content",4)(10,"ion-card"),e._UZ(11,"ion-img",5),e.TgZ(12,"ion-card-header")(13,"ion-card-title")(14,"b"),e._uU(15,"REGISTRO DE USUARIO"),e.qZA()(),e.TgZ(16,"span",6),e._UZ(17,"ion-img",7),e.TgZ(18,"b"),e._uU(19,"VerifyU"),e.qZA()()(),e.TgZ(20,"ion-card-content"),e._UZ(21,"hr",8),e.qZA(),e.TgZ(22,"ion-card-content")(23,"form",9),e.NdJ("ngSubmit",function(){return r.registrar()}),e.TgZ(24,"ion-item",10)(25,"ion-label",11),e._uU(26,"RUT"),e.qZA(),e._UZ(27,"ion-input",12),e.qZA(),e.TgZ(28,"ion-item",10)(29,"ion-label",11),e._uU(30,"Nombre"),e.qZA(),e._UZ(31,"ion-input",13),e.qZA(),e.TgZ(32,"ion-item",10)(33,"ion-label",11),e._uU(34,"Email"),e.qZA(),e._UZ(35,"ion-input",14),e.qZA(),e.TgZ(36,"ion-item",10)(37,"ion-label",11),e._uU(38,"Fecha Nacimiento"),e.qZA(),e._UZ(39,"ion-input",15),e.qZA(),e.TgZ(40,"ion-item",10)(41,"ion-label",11),e._uU(42,"Contrase\xf1a"),e.qZA(),e._UZ(43,"ion-input",16),e.qZA(),e.TgZ(44,"ion-item",10)(45,"ion-label",11),e._uU(46,"Confirmar contrase\xf1a"),e.qZA(),e._UZ(47,"ion-input",17),e.qZA(),e._UZ(48,"hr",8),e.TgZ(49,"b")(50,"ion-button",18),e.NdJ("click",function(){return r.registrar()}),e._uU(51,"Registrarse"),e.qZA()()()()(),e._UZ(52,"div",19)(53,"div",20)(54,"div",21)(55,"div",19)(56,"div",20)(57,"div",21)(58,"div",19)(59,"div",20)(60,"div",21),e.qZA()),2&t&&(e.xp6(9),e.Q6J("fullscreen",!0),e.xp6(14),e.Q6J("formGroup",r.usuario),e.xp6(27),e.Q6J("disabled",r.usuario.controls.pass1.value!=r.usuario.controls.pass2.value||r.usuario.invalid))},dependencies:[n._Y,n.JJ,n.JL,i.oU,i.YG,i.PM,i.FN,i.Zi,i.Dq,i.W2,i.Gu,i.Xz,i.pK,i.Ie,i.Q$,i.sr,i.j9,i.cs,n.sg,n.u],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: white;border-bottom:1px solid red}ion-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:red}.user-wrapper[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;margin:auto}.fade-in-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn ease-in 1.5s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}ion-card[_ngcontent-%COMP%]{background:white;background:linear-gradient(#a30000,#a40000,rgba(255,255,255,.566),rgba(255,255,255,0));box-shadow:0 0 1rem #0000008e;border-radius:.8em!important;z-index:1}ion-card-title[_ngcontent-%COMP%]{color:#fff}ion-card-subtitle[_ngcontent-%COMP%]{color:#fffefe}.inputReg[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:auto;display:flex;text-align:center}.inputReg[_ngcontent-%COMP%]{text-align:center;border-radius:15px;background-color:#f3e3e285}.entrar[_ngcontent-%COMP%]{display:flex;margin:2% auto;width:-moz-fit-content;width:fit-content}ion-item[_ngcontent-%COMP%]{margin-bottom:15px}ion-button[_ngcontent-%COMP%]{--background: tomato;--border-radius: 0}.link[_ngcontent-%COMP%]{display:flex;justify-content:center;color:gray}.linkazul[_ngcontent-%COMP%]{display:flex;justify-content:center;text-decoration:none}a[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}a[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}@media (min-width: 650px){ion-card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;position:relative;top:25px}}@media (min-width: 1200px){ion-card[_ngcontent-%COMP%]{max-width:450px;margin:0 auto;position:relative;top:25px}}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-container[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#fff}.icon-class[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px}ion-back-button[_ngcontent-%COMP%]{color:red}"]}),a})()}];let P=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(C),d.Bz]}),a})(),_=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,n.u5,i.Pc,P,n.UX]}),a})()}}]);